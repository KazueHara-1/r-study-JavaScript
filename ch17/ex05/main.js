(()=>{"use strict";function t(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function r(t){for(var r=0;r<ROWS;r++)for(var n=0;n<COLS;n++){var e=t[r][n];ctx.beginPath(),ctx.rect(n*RESOLUTION,r*RESOLUTION,RESOLUTION,RESOLUTION),ctx.fillStyle=e?"black":"white",ctx.fill(),ctx.stroke()}}var n=document.querySelector("#screen"),e=(n.getContext("2d"),document.querySelector("#start")),o=document.querySelector("#pause");n.width=500,n.height=500;var a=null,i=new Audio("/ch15.04-10/ex10/decision1.mp3"),c=new Array(50).fill(null).map((function(){return new Array(50).fill(null).map((function(){return!!Math.floor(2*Math.random())}))}));function l(){r(c=function(r){for(var n=r.map((function(r){return function(r){if(Array.isArray(r))return t(r)}(n=r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(r,n){if(r){if("string"==typeof r)return t(r,n);var e={}.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?t(r,n):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var n})),e=0;e<ROWS;e++)for(var o=0;o<COLS;o++){for(var a=0,i=-1;i<=1;i++)for(var c=-1;c<=1;c++)e+i>=0&&e+i<ROWS&&o+c>=0&&o+c<COLS&&(0!==i||0!==c)&&(a+=r[e+i][o+c]?1:0);!r[e][o]&&3===a||r[e][o]&&(2===a||3===a)?n[e][o]=!0:n[e][o]=!1}return n}(c)),a=requestAnimationFrame(l)}n.addEventListener("click",(function(t){var e=n.getBoundingClientRect(),o=t.clientX-e.left,a=t.clientY-e.top,l=Math.floor(a/10),u=Math.floor(o/10);c[l][u]=!c[l][u],i.cloneNode().play(),r(c)})),e.addEventListener("click",(function(){a||l()})),o.addEventListener("click",(function(){a&&(cancelAnimationFrame(a),a=null)})),r(c)})();